{%- liquid
  assign options = section.settings

  assign color_scheme = settings.default_color_scheme
  if options.color_scheme_variant == 'own'
    assign color_scheme = options.color_scheme
  endif
  assign round_level = options.round_level
  assign add_desktop_side_paddings = options.add_desktop_side_paddings
  assign add_mobile_side_paddings = options.add_mobile_side_paddings

  assign show_breadcrumbs = options.show_breadcrumbs
  assign section_spacing_top = options.section_spacing_top
  assign section_spacing_bottom = options.section_spacing_bottom
  assign enable_content_slide_in = settings.enable_content_slide_in
-%}

{%- liquid
  assign show_background = section.settings.show_background
  assign color_container_background = false

  if show_background == false and settings.default_color_scheme.settings.background != color_scheme.settings.background
    assign color_container_background = true
  endif
-%}

{% capture css %}
  {% style %}
    .section-{{section.id}}{
      --gsc-section-spacing-top: var(--gsc-padding-block-{{ section_spacing_top }});
      --gsc-section-spacing-bottom: var(--gsc-padding-block-{{ section_spacing_bottom }});
    }
  {% endstyle %}
{% endcapture %}

{% render 'inline-css-minifier', css: css %}

<article class='article {% if round_level != 'default' %}round-level-{{round_level}}{% endif %} section section-{{ section.id }} color-{{ color_scheme }} spacing-block {% if add_mobile_side_paddings %}spacing-inline-mobile{% endif %} {% if add_desktop_side_paddings %}spacing-inline-desktop{% endif %} {% if color_container_background == false %}section-background{% endif %}'>
  <div
    class='container container--medium {% if color_container_background %}container-background{% endif %} {% if enable_content_slide_in %}scroll-trigger animate--slide-in{% endif %}'
    {% if enable_content_slide_in %}
      style='--gsc-animation-order: 1;'
    {% endif %}
  >
    <div class='article__breadcrumbs-wrap {% if show_breadcrumbs == false %} article__breadcrumbs-wrap--hidden-on-mobile{% endif %}'>
      {%- if show_breadcrumbs -%}
        <div class='article__breadcrumbs body-color'>
          <a
            class='article__breadcrumbs-item'
            href='{{ routes.root_url }}'
            aria-label='{{ 'blog_post.screen_reader.breadcrumb_home_link' | t }}'
          >
            {{- 'blog_post.store_front.breadcrumb_home_link' | t -}}
          </a>
          <span class='article__breadcrumbs-divider'>/</span>
          <a
            class='article__breadcrumbs-item'
            href='{{ blog.url }}'
            aria-label='{{ 'blog_post.screen_reader.breadcrumb_blog_link' | t }}'
          >
            {{- 'blog_post.store_front.breadcrumb_blog_link' | t -}}
          </a>
          <span class='article__breadcrumbs-divider'>/</span>
          <a
            class='article__breadcrumbs-item'
            href='{{ article.url }}'
            aria-label='{{ article.title | strip_html | escape }}'
          >
            {{ article.title -}}
          </a>
        </div>
      {%- endif -%}
    </div>

    <div class='article__blocks'>
      {%- liquid
        for block in section.blocks
          case block.type
            when '@app'
              render 'article-block', block: block, article: article, section: section, index: forloop.index
            when 'featured_image'
              render 'article-featured-image', block: block, article: article, section: section, index: forloop.index
            when 'title'
              render 'article-title', block: block, article: article, section: section, index: forloop.index
            when 'content'
              render 'article-content', block: block, article: article, section: section, index: forloop.index
            when 'footer'
              render 'article-footer', block: block, article: article, section: section, index: forloop.index
            when 'tags'
              render 'article-tags', block: block, article: article, section: section, index: forloop.index
          endcase
        endfor
      -%}
    </div>

    {%- if blog.comments_enabled? -%}
      {%- render 'article-comments' -%}
    {%- endif -%}
  </div>
</article>

{% render 'save-section-data-in-global-scope', section: section %}

{% schema %}
{
  "name": "t:sections.blog_post.name",
  "tag": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_breadcrumbs",
      "default": true,
      "label": "t:sections.blog_post.show_breadcrumbs_label"
    },
    {
      "type": "header",
      "content": "t:sections.general_section_settings.appearance.header_title"
    },
    {
      "type": "select",
      "id": "container_size",
      "options": [
        {
          "value": "full-screen",
          "label": "t:sections.general_section_settings.container_size.screen_width_option"
        },
        {
          "value": "page-width",
          "label": "t:sections.general_section_settings.container_size.page_width_option"
        },
        {
          "value": "large",
          "label": "t:sections.general_section_settings.container_size.large_width_option"
        },
        {
          "value": "medium",
          "label": "t:sections.general_section_settings.container_size.medium_width_option"
        },
        {
          "value": "small",
          "label": "t:sections.general_section_settings.container_size.small_width_option"
        },
        {
          "value": "xsmall",
          "label": "t:sections.general_section_settings.container_size.extra_small_width_option"
        }
      ],
      "default": "xsmall",
      "label": "t:sections.general_section_settings.container_size.label"
    },
    {
      "type": "select",
      "id": "round_level",
      "options": [
        {
          "value": "default",
          "label": "t:settings_schema.appearance.round_level.options.default"
        },
        {
          "value": "0",
          "label": "t:settings_schema.appearance.round_level.options.option_0"
        },
        {
          "value": "1",
          "label": "t:settings_schema.appearance.round_level.options.option_1"
        },
        {
          "value": "2",
          "label": "t:settings_schema.appearance.round_level.options.option_2"
        },
        {
          "value": "3",
          "label": "t:settings_schema.appearance.round_level.options.option_3"
        },
        {
          "value": "4",
          "label": "t:settings_schema.appearance.round_level.options.option_4"
        },
        {
          "value": "5",
          "label": "t:settings_schema.appearance.round_level.options.option_5"
        },
        {
          "value": "6",
          "label": "t:settings_schema.appearance.round_level.options.option_6"
        },
        {
          "value": "7",
          "label": "t:settings_schema.appearance.round_level.options.option_7"
        },
        {
          "value": "8",
          "label": "t:settings_schema.appearance.round_level.options.option_8"
        }
      ],
      "default": "default",
      "label": "t:settings_schema.appearance.round_level.label"
    },
    {
      "type": "select",
      "id": "color_scheme_variant",
      "options": [
        {
          "value": "default",
          "label": "t:sections.general_section_settings.color_scheme_variant.options.default"
        },
        {
          "value": "own",
          "label": "t:sections.general_section_settings.color_scheme_variant.options.own"
        }
      ],
      "default": "default",
      "label": "t:sections.general_section_settings.color_scheme_variant.label"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "default": "2",
      "label": "t:sections.general_section_settings.color_scheme_label",
      "visible_if": "{{ section.settings.color_scheme_variant == 'own' }}"
    },
    {
      "type": "checkbox",
      "id": "show_background",
      "default": true,
      "label": "t:sections.general_section_settings.enable_background_around_container_label",
      "visible_if": "{{ section.settings.color_scheme_variant == 'own' and settings.default_color_scheme != section.settings.color_scheme }}"
    },
    {
      "type": "header",
      "content": "t:sections.general_section_settings.paddings.header_title"
    },
    {
      "type": "checkbox",
      "id": "add_desktop_side_paddings",
      "default": true,
      "label": "t:sections.general_section_settings.paddings.add_side_paddings.desktop_label"
    },
    {
      "type": "checkbox",
      "id": "add_mobile_side_paddings",
      "default": true,
      "label": "t:sections.general_section_settings.paddings.add_side_paddings.mobile_label"
    },
    {
      "type": "select",
      "id": "section_spacing_top",
      "options": [
        {
          "value": "none",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.none"
        },
        {
          "value": "xxxxs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxxs"
        },
        {
          "value": "xxxs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxs"
        },
        {
          "value": "xxs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxs"
        },
        {
          "value": "xs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xs"
        },
        {
          "value": "s",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.s"
        },
        {
          "value": "m",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.m"
        },
        {
          "value": "l",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.l"
        },
        {
          "value": "xl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xl"
        },
        {
          "value": "xxl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxl"
        },
        {
          "value": "xxxl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxl"
        },
        {
          "value": "xxxxl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxxl"
        }
      ],
      "default": "none",
      "label": "t:sections.general_section_settings.paddings.section_spacing_top.label"
    },
    {
      "type": "select",
      "id": "section_spacing_bottom",
      "options": [
        {
          "value": "none",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.none"
        },
        {
          "value": "xxxxs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxxs"
        },
        {
          "value": "xxxs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxs"
        },
        {
          "value": "xxs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxs"
        },
        {
          "value": "xs",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xs"
        },
        {
          "value": "s",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.s"
        },
        {
          "value": "m",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.m"
        },
        {
          "value": "l",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.l"
        },
        {
          "value": "xl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xl"
        },
        {
          "value": "xxl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxl"
        },
        {
          "value": "xxxl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxl"
        },
        {
          "value": "xxxxl",
          "label": "t:sections.general_section_settings.paddings.section_spacing_top.options.xxxxl"
        }
      ],
      "default": "xxxl",
      "label": "t:sections.general_section_settings.paddings.section_spacing_bottom.label"
    }
  ],
  "blocks": [
    {
      "type": "featured_image",
      "name": "t:sections.blog_post.featured_image_block_name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "container_size",
          "options": [
            {
              "value": "full-screen",
              "label": "t:sections.general_section_settings.container_size.screen_width_option"
            },
            {
              "value": "page-width",
              "label": "t:sections.general_section_settings.container_size.page_width_option"
            },
            {
              "value": "large",
              "label": "t:sections.general_section_settings.container_size.large_width_option"
            },
            {
              "value": "medium",
              "label": "t:sections.general_section_settings.container_size.medium_width_option"
            },
            {
              "value": "small",
              "label": "t:sections.general_section_settings.container_size.small_width_option"
            },
            {
              "value": "xsmall",
              "label": "t:sections.general_section_settings.container_size.extra_small_width_option"
            }
          ],
          "default": "medium",
          "label": "t:sections.general_section_settings.container_size.label"
        },
        {
          "type": "range",
          "id": "img_ratio",
          "min": 0.5,
          "max": 1.5,
          "step": 0.1,
          "default": 0.5,
          "unit": "t:sections.blog_post.featured_image_block_img_ratio_unit",
          "label": "t:sections.blog_post.featured_image_block_img_ratio_label"
        }
      ]
    },
    {
      "type": "title",
      "name": "t:sections.blog_post.title_block_name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_author",
          "default": true,
          "label": "t:sections.blog_post.title_block_show_author_label"
        },
        {
          "type": "checkbox",
          "id": "show_date",
          "default": true,
          "label": "t:sections.blog_post.title_block_show_date_label"
        },
        {
          "type": "checkbox",
          "id": "show_comment_count",
          "default": true,
          "label": "t:sections.blog_post.title_block_show_comment_count_label"
        },
        {
          "type": "checkbox",
          "id": "show_share_link",
          "default": true,
          "label": "t:sections.blog_post.title_block_show_share_link"
        },
        {
          "type": "select",
          "id": "heading_size",
          "label": "t:sections.general_section_settings.label_for_size_setting",
          "options": [
            {
              "value": "display1",
              "label": "t:sections.general_section_settings.display_size_1_option"
            },
            {
              "value": "display2",
              "label": "t:sections.general_section_settings.display_size_2_option"
            },
            {
              "value": "display3",
              "label": "t:sections.general_section_settings.display_size_3_option"
            },
            {
              "value": "h1",
              "label": "t:sections.general_section_settings.heading_size_1_option"
            },
            {
              "value": "h2",
              "label": "t:sections.general_section_settings.heading_size_2_option"
            },
            {
              "value": "h3",
              "label": "t:sections.general_section_settings.heading_size_3_option"
            },
            {
              "value": "h4",
              "label": "t:sections.general_section_settings.heading_size_4_option"
            },
            {
              "value": "h5",
              "label": "t:sections.general_section_settings.heading_size_5_option"
            },
            {
              "value": "h6",
              "label": "t:sections.general_section_settings.heading_size_6_option"
            },
            {
              "value": "caption1",
              "label": "t:sections.general_section_settings.caption_size_1_option"
            },
            {
              "value": "caption2",
              "label": "t:sections.general_section_settings.caption_size_2_option"
            },
            {
              "value": "caption3",
              "label": "t:sections.general_section_settings.caption_size_3_option"
            }
          ],
          "default": "h2"
        }
      ]
    },
    {
      "type": "content",
      "name": "t:sections.blog_post.content_block_name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "body_size",
          "label": "t:sections.general_section_settings.label_for_size_setting",
          "info": "t:sections.general_section_settings.info_for_body_size_setting",
          "options": [
            {
              "value": "body0",
              "label": "t:sections.general_section_settings.body_size_0_option"
            },
            {
              "value": "body1",
              "label": "t:sections.general_section_settings.body_size_1_option"
            },
            {
              "value": "body2",
              "label": "t:sections.general_section_settings.body_size_2_option"
            },
            {
              "value": "body3",
              "label": "t:sections.general_section_settings.body_size_3_option"
            },
            {
              "value": "body4",
              "label": "t:sections.general_section_settings.body_size_4_option"
            },
            {
              "value": "body5",
              "label": "t:sections.general_section_settings.body_size_5_option"
            },
            {
              "value": "body6",
              "label": "t:sections.general_section_settings.body_size_6_option"
            }
          ],
          "default": "body3"
        }
      ]
    },
    {
      "type": "footer",
      "name": "t:sections.blog_post.footer_block_name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_author",
          "default": true,
          "label": "t:sections.blog_post.footer_block_show_author_label"
        },
        {
          "type": "checkbox",
          "id": "show_date",
          "default": true,
          "label": "t:sections.blog_post.footer_block_show_date_label"
        },
        {
          "type": "checkbox",
          "id": "show_comment_count",
          "default": true,
          "label": "t:sections.blog_post.footer_block_show_comment_count_label"
        },
        {
          "type": "checkbox",
          "id": "show_share",
          "default": true,
          "label": "t:sections.blog_post.footer_block_show_share_label"
        },
        {
          "type": "checkbox",
          "id": "show_next_and_previous_posts",
          "default": true,
          "label": "t:sections.blog_post.footer_block_show_next_and_previous_posts_label"
        }
      ]
    },
    {
      "type": "tags",
      "name": "t:sections.blog_post.tags.header_title",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "show_tags",
          "default": "all",
          "label": "t:sections.blog_post.tags.show_tags.label",
          "options": [
            {
              "value": "none",
              "label": "t:sections.blog_post.tags.show_tags.options.option_1"
            },
            {
              "value": "all",
              "label": "t:sections.blog_post.tags.show_tags.options.option_2"
            },
            {
              "value": "selected",
              "label": "t:sections.blog_post.tags.show_tags.options.option_3"
            }
          ]
        },
        {
          "type": "text",
          "id": "selected_tags",
          "label": "t:sections.blog_post.tags.select_tags.label",
          "info": "t:sections.blog_post.tags.select_tags.info",
          "visible_if": "{{ block.settings.show_tags == 'selected' }}"
        },
        {
          "type": "checkbox",
          "id": "collapse_extra_tags",
          "default": false,
          "label": "t:sections.blog_post.tags.collapse_extra_tags.label",
          "visible_if": "{{ block.settings.show_tags != 'none' }}"
        }
      ]
    }
  ]
}
{% endschema %}
